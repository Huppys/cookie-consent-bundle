function e(e){var o=e.querySelector("#cookie_consent__token");return encodeURIComponent(o.getAttribute("name"))+"="+encodeURIComponent(o.getAttribute("value"))}document.addEventListener("DOMContentLoaded",(function(){var o=document.querySelector(".cookie-consent"),t=document.querySelector(".cookie-consent__form"),n=document.querySelectorAll(".js-submit-cookie-consent-form");if(t){var c=t.action?t.action:location.href,r=document.querySelector(".cookie-consent-dialog");if(r){r.showModal();var i=r.querySelector("#cookie_consent_save");i&&i.addEventListener("click",(function(){r.close()})),r.querySelectorAll(".js-reject-all-cookies").forEach((function(n){n.addEventListener("click",(function(){fetch(c,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:[e(t),encodeURIComponent(n.getAttribute("name"))+"="].join("&")}).then((function(e){console.log(e),r.close(),o.remove()})).catch((function(e){console.error("Error:",e)}))}))}))}n.forEach((function(n){n.addEventListener("click",(function(n){n.preventDefault(),document.querySelector(".js-reject-all-cookies").disabled=!0;var i,u,a,s=new XMLHttpRequest;s.onload=function(){if(s.status>=200&&s.status<300){r?r.close():o.remove();var e=new CustomEvent("cookie-consent-form-submit-successful",{detail:n.target});document.dispatchEvent(e)}},s.open("POST",c),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send((i=t,u=n.target,a=[],Array.from(i.elements).forEach((function(e){("checkbox"!==e.type&&"radio"!==e.type&&"button"!==e.type||e.checked)&&a.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))})),a.push(encodeURIComponent(u.getAttribute("name"))+"="),a.push(e(i)),a.join("&")))}),!1)}))}}));