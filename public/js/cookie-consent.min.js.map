{"version":3,"file":"cookie-consent.min.js","sources":["../../assets/js/cookie-consent.mjs"],"sourcesContent":["async function submitSimpleCookieSelection(form, submitter) {\n    try {\n        const url = new URL('/cookie-consent/update', window.location.origin);\n\n        const requestOptions = {\n            method: 'POST',\n            body: new FormData(form, submitter)\n        }\n\n        /**\n         * Request object\n         * @type {Request}\n         */\n        const request = new Request(url, requestOptions);\n\n        /**\n         * Response object\n         * @type {Response}\n         */\n        const response = await fetch(request);\n\n        if (response.ok) {\n            await fetch(window.location.href);\n\n            return Promise.resolve();\n        } else {\n            new Error(JSON.stringify(response));\n            return Promise.reject();\n        }\n    } catch (e) {\n        console.error(e);\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const cookieConsent = document.querySelector('.cookie-consent');\n    const cookieConsentForm = document.querySelector('.cookie-consent__form');\n\n\n    cookieConsent.querySelector('.js-show-settings').addEventListener('click', function (event) {\n        cookieConsent.querySelector('.cookie-consent-simple').style.display = 'none';\n        cookieConsent.querySelector('.cookie-consent-detail').style.display = 'block';\n    });\n\n    // cookieConsent.querySelectorAll('.js-reject-all-cookies').forEach(item => {\n    //     item.addEventListener('click', async (event) => {\n    //         const form = item.closest('form');\n    //         await submitSimpleCookieSelection(form, event.submitter);\n    //     });\n    // });\n    //\n    // cookieConsent.querySelectorAll('.js-accept-all-cookies').forEach(item => {\n    //     item.addEventListener('click', async (event) => {\n    //         const form = item.closest('form');\n    //         await submitSimpleCookieSelection(form, event.submitter);\n    //     });\n    // });\n\n    cookieConsent.querySelector('.js-consent-simple-form').addEventListener('submit', async function (event) {\n        event.preventDefault();\n        debugger;\n        await submitSimpleCookieSelection(event.target, event.submitter);\n    });\n\n    if (cookieConsentForm) {\n        // we got a form\n        const submitButtons = cookieConsentForm.querySelectorAll('.js-submit-cookie-consent-form');\n        const formAction = cookieConsentForm.action || location.href;\n\n        cookieConsentForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n\n            fetch(formAction, {\n                method: 'POST',\n                body: new FormData(cookieConsentForm, event.submitter)\n            }).then(function (res) {\n                if (res.status >= 200 && res.status < 300) {\n                    hideCookieConsentForm(cookieConsent, cookieConsentDialog);\n                    dispatchSuccessEvent(event.submitter);\n                }\n            }).catch(function (error) {\n                console.error('Error:', error);\n            });\n        });\n\n        const cookieConsentDialog = document.querySelector('.cookie-consent-dialog');\n        if (cookieConsentDialog) {\n            // we got a dialog, show it\n            cookieConsentDialog.showModal();\n        }\n    }\n});\n\nfunction dispatchSuccessEvent(submitter) {\n    const formSubmittedEvent = new CustomEvent('cookie-consent-form-submit-successful', {\n        detail: submitter\n    });\n    document.dispatchEvent(formSubmittedEvent);\n}\n\nfunction hideCookieConsentForm(cookieConsent, cookieConsentDialog) {\n    if (cookieConsentDialog) {\n        cookieConsentDialog.close();\n    }\n    cookieConsent.remove();\n}"],"names":["submitSimpleCookieSelection","_x","_x2","_submitSimpleCookieSelection","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","form","submitter","url","requestOptions","request","response","wrap","_callee2$","_context2","prev","next","URL","window","location","origin","method","body","FormData","Request","fetch","sent","ok","href","abrupt","Promise","resolve","Error","JSON","stringify","reject","t0","console","error","stop","document","addEventListener","cookieConsent","querySelector","cookieConsentForm","event","style","display","_ref","_callee","_callee$","_context","preventDefault","target","_x3","querySelectorAll","formAction","action","then","res","status","hideCookieConsentForm","cookieConsentDialog","dispatchSuccessEvent","showModal","formSubmittedEvent","CustomEvent","detail","dispatchEvent","close","remove"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAAeA,2BAA2BA,CAAAC,EAAA,EAAAC,GAAA,EAAA;AAAA,EAAA,OAAAC,4BAAA,CAAAC,KAAA,CAAA,IAAA,EAAAC,SAAA,CAAA,CAAA;AAAA,CAAA;AAAA,SAAAF,4BAAA,GAAA;EAAAA,4BAAA,GAAAG,iBAAA,eAAAC,mBAAA,EAAA,CAAAC,IAAA,CAA1C,SAAAC,QAAAA,CAA2CC,IAAI,EAAEC,SAAS,EAAA;AAAA,IAAA,IAAAC,GAAA,EAAAC,cAAA,EAAAC,OAAA,EAAAC,QAAA,CAAA;AAAA,IAAA,OAAAR,mBAAA,EAAA,CAAAS,IAAA,CAAA,SAAAC,UAAAC,SAAA,EAAA;AAAA,MAAA,OAAA,CAAA,EAAA,QAAAA,SAAA,CAAAC,IAAA,GAAAD,SAAA,CAAAE,IAAA;AAAA,QAAA,KAAA,CAAA;AAAAF,UAAAA,SAAA,CAAAC,IAAA,GAAA,CAAA,CAAA;UAE5CP,GAAG,GAAG,IAAIS,GAAG,CAAC,wBAAwB,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAA;AAE/DX,UAAAA,cAAc,GAAG;AACnBY,YAAAA,MAAM,EAAE,MAAM;AACdC,YAAAA,IAAI,EAAE,IAAIC,QAAQ,CAACjB,IAAI,EAAEC,SAAS,CAAA;WACrC,CAAA;AAED;AACR;AACA;AACA;AACcG,UAAAA,OAAO,GAAG,IAAIc,OAAO,CAAChB,GAAG,EAAEC,cAAc,CAAC,CAAA;AAEhD;AACR;AACA;AACA;AAHQK,UAAAA,SAAA,CAAAE,IAAA,GAAA,CAAA,CAAA;UAAA,OAIuBS,KAAK,CAACf,OAAO,CAAC,CAAA;AAAA,QAAA,KAAA,CAAA;UAA/BC,QAAQ,GAAAG,SAAA,CAAAY,IAAA,CAAA;UAAA,IAEVf,CAAAA,QAAQ,CAACgB,EAAE,EAAA;AAAAb,YAAAA,SAAA,CAAAE,IAAA,GAAA,EAAA,CAAA;AAAA,YAAA,MAAA;AAAA,WAAA;AAAAF,UAAAA,SAAA,CAAAE,IAAA,GAAA,EAAA,CAAA;AAAA,UAAA,OACLS,KAAK,CAACP,MAAM,CAACC,QAAQ,CAACS,IAAI,CAAC,CAAA;AAAA,QAAA,KAAA,EAAA;UAAA,OAAAd,SAAA,CAAAe,MAAA,CAAA,QAAA,EAE1BC,OAAO,CAACC,OAAO,EAAE,CAAA,CAAA;AAAA,QAAA,KAAA,EAAA;UAExB,IAAIC,KAAK,CAACC,IAAI,CAACC,SAAS,CAACvB,QAAQ,CAAC,CAAC,CAAA;UAAC,OAAAG,SAAA,CAAAe,MAAA,CAAA,QAAA,EAC7BC,OAAO,CAACK,MAAM,EAAE,CAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAArB,UAAAA,SAAA,CAAAE,IAAA,GAAA,EAAA,CAAA;AAAA,UAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAAF,UAAAA,SAAA,CAAAC,IAAA,GAAA,EAAA,CAAA;UAAAD,SAAA,CAAAsB,EAAA,GAAAtB,SAAA,CAAA,OAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAG3BuB,UAAAA,OAAO,CAACC,KAAK,CAAAxB,SAAA,CAAAsB,EAAE,CAAC,CAAA;AAAC,QAAA,KAAA,EAAA,CAAA;AAAA,QAAA,KAAA,KAAA;UAAA,OAAAtB,SAAA,CAAAyB,IAAA,EAAA,CAAA;AAAA,OAAA;AAAA,KAAA,EAAAlC,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,CAAA;GAExB,CAAA,CAAA,CAAA;AAAA,EAAA,OAAAN,4BAAA,CAAAC,KAAA,CAAA,IAAA,EAAAC,SAAA,CAAA,CAAA;AAAA,CAAA;AAEDuC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;AACtD,EAAA,IAAMC,aAAa,GAAGF,QAAQ,CAACG,aAAa,CAAC,iBAAiB,CAAC,CAAA;AAC/D,EAAA,IAAMC,iBAAiB,GAAGJ,QAAQ,CAACG,aAAa,CAAC,uBAAuB,CAAC,CAAA;AAGzED,EAAAA,aAAa,CAACC,aAAa,CAAC,mBAAmB,CAAC,CAACF,gBAAgB,CAAC,OAAO,EAAE,UAAUI,KAAK,EAAE;IACxFH,aAAa,CAACC,aAAa,CAAC,wBAAwB,CAAC,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM,CAAA;IAC5EL,aAAa,CAACC,aAAa,CAAC,wBAAwB,CAAC,CAACG,KAAK,CAACC,OAAO,GAAG,OAAO,CAAA;AACjF,GAAC,CAAC,CAAA;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEAL,aAAa,CAACC,aAAa,CAAC,yBAAyB,CAAC,CAACF,gBAAgB,CAAC,QAAQ,eAAA,YAAA;IAAA,IAAAO,IAAA,GAAA9C,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAA6C,OAAAA,CAAgBJ,KAAK,EAAA;AAAA,MAAA,OAAA1C,mBAAA,EAAA,CAAAS,IAAA,CAAA,SAAAsC,SAAAC,QAAA,EAAA;AAAA,QAAA,OAAA,CAAA,EAAA,QAAAA,QAAA,CAAApC,IAAA,GAAAoC,QAAA,CAAAnC,IAAA;AAAA,UAAA,KAAA,CAAA;YACnG6B,KAAK,CAACO,cAAc,EAAE,CAAA;AACtB,YAAA,SAAA;AAASD,YAAAA,QAAA,CAAAnC,IAAA,GAAA,CAAA,CAAA;YAAA,OACHpB,2BAA2B,CAACiD,KAAK,CAACQ,MAAM,EAAER,KAAK,CAACtC,SAAS,CAAC,CAAA;AAAA,UAAA,KAAA,CAAA,CAAA;AAAA,UAAA,KAAA,KAAA;YAAA,OAAA4C,QAAA,CAAAZ,IAAA,EAAA,CAAA;AAAA,SAAA;AAAA,OAAA,EAAAU,OAAA,CAAA,CAAA;KACnE,CAAA,CAAA,CAAA;AAAA,IAAA,OAAA,UAAAK,GAAA,EAAA;AAAA,MAAA,OAAAN,IAAA,CAAAhD,KAAA,CAAA,IAAA,EAAAC,SAAA,CAAA,CAAA;AAAA,KAAA,CAAA;GAAC,EAAA,CAAA,CAAA;AAEF,EAAA,IAAI2C,iBAAiB,EAAE;AACnB;AACA,IAAsBA,iBAAiB,CAACW,gBAAgB,CAAC,gCAAgC,EAAC;IAC1F,IAAMC,UAAU,GAAGZ,iBAAiB,CAACa,MAAM,IAAItC,QAAQ,CAACS,IAAI,CAAA;AAE5DgB,IAAAA,iBAAiB,CAACH,gBAAgB,CAAC,QAAQ,EAAE,UAAUI,KAAK,EAAE;MAC1DA,KAAK,CAACO,cAAc,EAAE,CAAA;MAEtB3B,KAAK,CAAC+B,UAAU,EAAE;AACdnC,QAAAA,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE,IAAIC,QAAQ,CAACqB,iBAAiB,EAAEC,KAAK,CAACtC,SAAS,CAAA;AACzD,OAAC,CAAC,CAACmD,IAAI,CAAC,UAAUC,GAAG,EAAE;QACnB,IAAIA,GAAG,CAACC,MAAM,IAAI,GAAG,IAAID,GAAG,CAACC,MAAM,GAAG,GAAG,EAAE;AACvCC,UAAAA,qBAAqB,CAACnB,aAAa,EAAEoB,mBAAmB,CAAC,CAAA;AACzDC,UAAAA,oBAAoB,CAAClB,KAAK,CAACtC,SAAS,CAAC,CAAA;AACzC,SAAA;AACJ,OAAC,CAAC,CAAA,OAAA,CAAM,CAAC,UAAU+B,KAAK,EAAE;AACtBD,QAAAA,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC,CAAA;AAClC,OAAC,CAAC,CAAA;AACN,KAAC,CAAC,CAAA;AAEF,IAAA,IAAMwB,mBAAmB,GAAGtB,QAAQ,CAACG,aAAa,CAAC,wBAAwB,CAAC,CAAA;AAC5E,IAAA,IAAImB,mBAAmB,EAAE;AACrB;MACAA,mBAAmB,CAACE,SAAS,EAAE,CAAA;AACnC,KAAA;AACJ,GAAA;AACJ,CAAC,CAAC,CAAA;AAEF,SAASD,oBAAoBA,CAACxD,SAAS,EAAE;AACrC,EAAA,IAAM0D,kBAAkB,GAAG,IAAIC,WAAW,CAAC,uCAAuC,EAAE;AAChFC,IAAAA,MAAM,EAAE5D,SAAAA;AACZ,GAAC,CAAC,CAAA;AACFiC,EAAAA,QAAQ,CAAC4B,aAAa,CAACH,kBAAkB,CAAC,CAAA;AAC9C,CAAA;AAEA,SAASJ,qBAAqBA,CAACnB,aAAa,EAAEoB,mBAAmB,EAAE;AAC/D,EAAA,IAAIA,mBAAmB,EAAE;IACrBA,mBAAmB,CAACO,KAAK,EAAE,CAAA;AAC/B,GAAA;EACA3B,aAAa,CAAC4B,MAAM,EAAE,CAAA;AAC1B"}