document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".cookie-consent"),t=document.querySelectorAll(".cookie-consent__form");e.querySelector(".js-show-settings").addEventListener("click",(function(t){e.querySelector(".cookie-consent-simple").style.display="none",e.querySelector(".cookie-consent-detail").style.display="block"})),e.querySelector(".js-consent-simple-form").addEventListener("submit",(async function(e){e.preventDefault(),await async function(e,t){try{const o=new URL("/cookie-consent/update",window.location.origin),n={method:"POST",body:new FormData(e,t)},c=new Request(o,n),r=await fetch(c);return r.ok?(await fetch(window.location.href),Promise.resolve()):(new Error(JSON.stringify(r)),Promise.reject())}catch(e){console.error(e)}}(e.target,e.submitter)})),t.forEach((t=>{t.querySelectorAll(".js-submit-cookie-consent-form");const o=t.action||location.href;t.addEventListener("submit",(function(c){c.preventDefault(),fetch(o,{method:"POST",body:new FormData(t,c.submitter)}).then((function(t){t.status>=200&&t.status<300&&(function(e,t){t&&t.close();e.remove()}(e,n),function(e){const t=new CustomEvent("cookie-consent.form-submit-successful",{detail:e});document.dispatchEvent(t)}(c.submitter))})).catch((function(e){console.error("Error:",e)}))}));const n=document.querySelector(".cookie-consent-dialog");n&&n.showModal()}))}));